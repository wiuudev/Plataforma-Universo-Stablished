function _init_esri_basemap_layers(e, r, o, s, l) { let a = {}, i = r.map(function (e) { return e.basemap_id }); if (!1 === l && (a.Default = L.esri.Vector.vectorBasemapLayer(null, { apiKey: o })), i.forEach(e => { a[e] = L.esri.Vector.vectorBasemapLayer(e, { apiKey: o }) }), null == s) L.control.layers(a, null, { collapsed: !0 }).addTo(e); else for (let t of Object.keys(a)) s.addBaseLayer(a[t], t); !1 === l && a.Default.addTo(e) } function _init_geocoding_search_(e, r) { let o = r.apiKey, s = document.createElement("script"); s.src = "https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.js", s.async = !0, s.crossorigin = ""; let l = document.createElement("link"); l.href = "https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.css", l.rel = "stylesheet", l.crossorigin = "", s.onload = () => { let s = L.esri.Geocoding.geosearch({ position: r.position, placeholder: r.placeholder, useMapBounds: r.useMapBounds, providers: [L.esri.Geocoding.arcgisOnlineProvider({ apikey: o, nearby: r.nearby })] }).addTo(e), l = L.layerGroup().addTo(e); s.on("results", function (e) { l.clearLayers(); for (let r = e.results.length - 1; r >= 0; r--)l.addLayer(L.marker(e.results[r].latlng)) }) }, document.body.appendChild(l), document.body.appendChild(s) } function _init_reverse_geocoding_(e, r) { let o = r.apiKey, s = null, l = r.remove_last_result, a = document.createElement("script"); a.src = "https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.js", a.async = !0, a.crossorigin = ""; let i = document.createElement("link"); i.href = "https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.css", i.rel = "stylesheet", i.crossorigin = "", a.onload = () => { e.on("click", function (r) { L.esri.Geocoding.reverseGeocode({ apikey: o }).latlng(r.latlng).run(function (r, o) { !r && (null !== s && l && e.removeLayer(s), s = L.marker(o.latlng).addTo(e).bindPopup(o.address.Match_addr).openPopup()) }) }) }, document.body.appendChild(i), document.body.appendChild(a) } export { _init_esri_basemap_layers, _init_geocoding_search_, _init_reverse_geocoding_ };